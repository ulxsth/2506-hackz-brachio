# ğŸ“‹ ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚¿ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…è¨ˆç”»æ›¸

## ğŸ¯ æ¦‚è¦
é€šå¸¸ã®ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã®ã‚¿ãƒ¼ãƒ³ï¼ˆå˜èªã‚’ä¸ãˆã€ãã‚Œã‚’ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã™ã‚‹ï¼‰ã¨ã€åˆ¶ç´„ã‹ã‚‰å˜èªã‚’ä¸ãˆã‚‹ã‚¿ãƒ¼ãƒ³ï¼ˆåˆ¶ç´„ã‚’ä¸ãˆã€ãã‚Œã«æ²¿ã£ãŸå˜èªã‚’ã“ãŸãˆã‚‹ï¼‰ã®ä¸¡æ–¹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ï¼ˆæ„Ÿè¦šçš„ã« 5:1 ç¨‹åº¦ï¼‰ã«å‡ºã™ã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…ã€‚

## ğŸ“Š ä»•æ§˜ã‚µãƒãƒªãƒ¼
- **é€šå¸¸ã‚¿ãƒ¼ãƒ³ (83%)**: æç¤ºã•ã‚ŒãŸITç”¨èªã‚’æ­£ç¢ºã«ã‚¿ã‚¤ãƒ”ãƒ³ã‚°
- **åˆ¶ç´„ã‚¿ãƒ¼ãƒ³ (17%)**: æŒ‡å®šæ–‡å­—ã‚’å«ã‚€ITç”¨èªã‚’è€ƒãˆã¦å…¥åŠ›
- **ã‚¿ãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆ**: å„å›ç­”å¾Œã«ãƒ©ãƒ³ãƒ€ãƒ æ±ºå®š (`Math.random() < 0.83`)
- **å¾—ç‚¹è¨ˆç®—ã®åˆ†é›¢**: ã‚¿ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—åˆ¥ã®ç•°ãªã‚‹è¨ˆç®—å¼

---

## ğŸ—‚ï¸ é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ã‚¢
- `frontend/app/game/page.tsx` - ãƒ¡ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯
- `frontend/lib/room.ts` - ãƒ«ãƒ¼ãƒ ç®¡ç†ãƒ»APIå‡¦ç†
- `frontend/hooks/useRoom.ts` - ãƒ«ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†ãƒ•ãƒƒã‚¯
- `frontend/lib/game-sync.ts` - ã‚²ãƒ¼ãƒ åŒæœŸã‚·ã‚¹ãƒ†ãƒ 
- `frontend/hooks/useGameSync.ts` - ã‚²ãƒ¼ãƒ åŒæœŸãƒ•ãƒƒã‚¯

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»ã‚¹ã‚­ãƒ¼ãƒ
- `supabase/migrations/20250619_unified_schema.sql` - ç¾åœ¨ã®ã‚¹ã‚­ãƒ¼ãƒ
- `frontend/lib/database.types.ts` - å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«

### æ—¢å­˜ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯
- `frontend/lib/supabase.ts` - Supabaseè¨­å®š
- `frontend/app/result/page.tsx` - çµæœç”»é¢
- `frontend/app/debug/test-data/page.tsx` - ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ

### è¾æ›¸ãƒ»ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- ç¾åœ¨ï¼šSupabaseã‚¯ã‚¨ãƒªãƒ™ãƒ¼ã‚¹ (`it_terms`ãƒ†ãƒ¼ãƒ–ãƒ«)
- å°†æ¥ï¼šé«˜é€ŸåŒ–ã®ãŸã‚ã®äº‹å‰å‡¦ç†æ¸ˆã¿è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«

---

## ğŸ› ï¸ å®Ÿè£…é …ç›®

### Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µ ğŸ—„ï¸

#### 1.1 game_sessions ãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µ
```sql
-- ã‚¿ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ å¯¾å¿œ
ALTER TABLE public.game_sessions 
ADD COLUMN current_turn_type text check (current_turn_type in ('typing', 'constraint')) default 'constraint',
ADD COLUMN current_target_word text, -- é€šå¸¸ã‚¿ãƒ¼ãƒ³ç”¨ã®æç¤ºå˜èª
ADD COLUMN current_constraint_char char(1), -- åˆ¶ç´„ã‚¿ãƒ¼ãƒ³ç”¨ã®æŒ‡å®šæ–‡å­—
ADD COLUMN turn_start_time timestamp with time zone,
ADD COLUMN turn_sequence_number integer default 0;
```

#### 1.2 word_submissions ãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µ
```sql
-- ã‚¿ãƒ¼ãƒ³æƒ…å ±ã¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°è¨˜éŒ²
ALTER TABLE public.word_submissions
ADD COLUMN turn_type text check (turn_type in ('typing', 'constraint')) default 'constraint',
ADD COLUMN target_word text, -- é€šå¸¸ã‚¿ãƒ¼ãƒ³ç”¨ï¼ˆæç¤ºã•ã‚ŒãŸå˜èªï¼‰
ADD COLUMN constraint_char char(1), -- åˆ¶ç´„ã‚¿ãƒ¼ãƒ³ç”¨ï¼ˆæŒ‡å®šæ–‡å­—ï¼‰
ADD COLUMN typing_start_time timestamp with time zone, -- ã‚¿ã‚¤ãƒ”ãƒ³ã‚°é–‹å§‹æ™‚åˆ»
ADD COLUMN typing_duration_ms integer, -- ã‚¿ã‚¤ãƒ”ãƒ³ã‚°æ™‚é–“ï¼ˆãƒŸãƒªç§’ï¼‰
ADD COLUMN speed_coefficient decimal default 1.0; -- ã‚¿ã‚¤ãƒ”ãƒ³ã‚°é€Ÿåº¦ä¿‚æ•°
```

#### 1.3 ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ 
```sql
CREATE INDEX idx_game_sessions_turn_type ON public.game_sessions(current_turn_type);
CREATE INDEX idx_word_submissions_turn_type ON public.word_submissions(turn_type);
CREATE INDEX idx_word_submissions_target_word ON public.word_submissions(target_word);
```

### Phase 2: ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯æ‹¡å¼µ ğŸ®

#### 2.1 ã‚¿ãƒ¼ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/turn-manager.ts` (æ–°è¦ä½œæˆ)
- **æ©Ÿèƒ½**: ã‚¿ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—æ±ºå®šã€å˜èªé¸æŠã€åˆ¶ç´„ç”Ÿæˆ
- **å†…å®¹**:
  ```typescript
  export interface TurnData {
    type: 'typing' | 'constraint'
    targetWord?: string        // é€šå¸¸ã‚¿ãƒ¼ãƒ³ç”¨
    constraintChar?: string    // åˆ¶ç´„ã‚¿ãƒ¼ãƒ³ç”¨
    coefficient: number        // å¾—ç‚¹ä¿‚æ•°
    startTime: Date
  }
  
  export class TurnManager {
    generateNextTurn(previousTurns: TurnData[]): TurnData
    selectRandomWord(): Promise<string>
    generateConstraintChar(): { char: string; coefficient: number }
    calculateSpeedCoefficient(duration: number): number
  }
  ```

#### 2.2 å¾—ç‚¹è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/scoring.ts` (ä¿®æ­£)
- **æ©Ÿèƒ½**: ã‚¿ãƒ¼ãƒ³åˆ¥å¾—ç‚¹è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
- **å†…å®¹**:
  ```typescript
  interface ScoringParams {
    turnType: 'typing' | 'constraint'
    word: string
    difficulty: number
    coefficient: number // é€Ÿåº¦ä¿‚æ•° or åˆ¶ç´„ä¿‚æ•°
    combo: number
  }
  
  export const calculateScore = (params: ScoringParams): number => {
    const baseScore = params.word.length
    
    switch (params.turnType) {
      case 'typing':
        // é€šå¸¸ã‚¿ãƒ¼ãƒ³: å˜èªæ–‡å­—æ•° Ã— é›£æ˜“åº¦ Ã— é€Ÿåº¦ä¿‚æ•° Ã— ã‚³ãƒ³ãƒœ
        return baseScore * params.difficulty * params.coefficient * params.combo
      case 'constraint':
        // åˆ¶ç´„ã‚¿ãƒ¼ãƒ³: å˜èªæ–‡å­—æ•° Ã— é›£æ˜“åº¦ Ã— åˆ¶ç´„ä¿‚æ•° Ã— ã‚³ãƒ³ãƒœ
        return baseScore * params.difficulty * params.coefficient * params.combo
    }
  }
  ```

#### 2.3 ã‚¿ã‚¤ãƒ”ãƒ³ã‚°æ¸¬å®šã‚·ã‚¹ãƒ†ãƒ 
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/hooks/useTypingTimer.ts` (æ–°è¦ä½œæˆ)
- **æ©Ÿèƒ½**: ã‚¿ã‚¤ãƒ”ãƒ³ã‚°é–‹å§‹æ™‚é–“è¨˜éŒ²ã€å®Œäº†æ™‚é–“æ¸¬å®šã€é€Ÿåº¦ä¿‚æ•°è¨ˆç®—
- **å†…å®¹**:
  ```typescript
  export const useTypingTimer = () => {
    const [startTime, setStartTime] = useState<Date | null>(null)
    
    const startTimer = () => setStartTime(new Date())
    const finishTimer = (): { duration: number; coefficient: number } => {
      if (!startTime) return { duration: 0, coefficient: 1.0 }
      
      const duration = Date.now() - startTime.getTime()
      const coefficient = calculateSpeedCoefficient(duration)
      
      return { duration, coefficient }
    }
  }
  ```

### Phase 3: UIãƒ»UXå®Ÿè£… ğŸ¨

#### 3.1 ã‚²ãƒ¼ãƒ ç”»é¢æ›´æ–°
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/app/game/page.tsx` (å¤§å¹…ä¿®æ­£)
- **æ©Ÿèƒ½**: ã‚¿ãƒ¼ãƒ³åˆ¥UIè¡¨ç¤ºã€å…¥åŠ›å‡¦ç†åˆ†å²
- **å¤‰æ›´å†…å®¹**:
  ```typescript
  // ç¾åœ¨ã®ã‚¿ãƒ¼ãƒ³çŠ¶æ…‹ç®¡ç†
  const [currentTurn, setCurrentTurn] = useState<TurnData | null>(null)
  
  // ã‚¿ãƒ¼ãƒ³åˆ¥UIè¡¨ç¤º
  const renderTurnUI = () => {
    if (!currentTurn) return null
    
    switch (currentTurn.type) {
      case 'typing':
        return <TypingTurnUI targetWord={currentTurn.targetWord} />
      case 'constraint':
        return <ConstraintTurnUI constraintChar={currentTurn.constraintChar} />
    }
  }
  ```

#### 3.2 ã‚¿ãƒ¼ãƒ³åˆ¥UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/components/TypingTurnUI.tsx` (æ–°è¦ä½œæˆ)
- **æ©Ÿèƒ½**: é€šå¸¸ã‚¿ãƒ¼ãƒ³å°‚ç”¨UIï¼ˆå˜èªè¡¨ç¤ºã€ã‚¿ã‚¤ãƒ”ãƒ³ã‚°å…¥åŠ›ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/components/ConstraintTurnUI.tsx` (æ–°è¦ä½œæˆ)
- **æ©Ÿèƒ½**: åˆ¶ç´„ã‚¿ãƒ¼ãƒ³å°‚ç”¨UIï¼ˆåˆ¶ç´„è¡¨ç¤ºã€ãƒ‘ã‚¹ãƒœã‚¿ãƒ³ï¼‰

#### 3.3 ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ»çµæœè¡¨ç¤ºæ›´æ–°
- ã‚¿ãƒ¼ãƒ³åˆ¥ã®æˆåŠŸãƒ»å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- å¾—ç‚¹è¨ˆç®—å¼ã®è¡¨ç¤ºï¼ˆé€æ˜æ€§å‘ä¸Šï¼‰
- ã‚¿ã‚¤ãƒ”ãƒ³ã‚°é€Ÿåº¦ã®å¯è¦–åŒ–

### Phase 4: ãƒ‡ãƒ¼ã‚¿åŒæœŸãƒ»APIæ‹¡å¼µ ğŸ”„

#### 4.1 ãƒ«ãƒ¼ãƒ çŠ¶æ…‹ç®¡ç†æ‹¡å¼µ
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/room.ts` (ä¿®æ­£)
- **æ©Ÿèƒ½**: ã‚¿ãƒ¼ãƒ³ãƒ‡ãƒ¼ã‚¿ã®åŒæœŸã€çŠ¶æ…‹æ›´æ–°API
- **æ–°è¦API**:
  ```typescript
  export const startNewTurn = async (roomId: string, turnData: TurnData)
  export const submitTurnResult = async (params: TurnSubmissionParams)
  export const syncTurnState = async (roomId: string)
  ```

#### 4.2 ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸæ‹¡å¼µ
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/game-sync.ts` (ä¿®æ­£)
- **æ©Ÿèƒ½**: ã‚¿ãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆé€šçŸ¥ã€çŠ¶æ…‹åŒæœŸ
- **æ‹¡å¼µå†…å®¹**:
  - ã‚¿ãƒ¼ãƒ³é–‹å§‹ã‚¤ãƒ™ãƒ³ãƒˆ
  - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å›ç­”å®Œäº†é€šçŸ¥
  - æ¬¡ã‚¿ãƒ¼ãƒ³æº–å‚™é€šçŸ¥

### Phase 5: è¾æ›¸ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– âš¡

#### 5.1 å˜èªé¸æŠæœ€é©åŒ–
- **å¯¾è±¡**: é€šå¸¸ã‚¿ãƒ¼ãƒ³ç”¨ã®å˜èªé¸æŠ
- **æ–¹å¼**: äº‹å‰ã«é¸å®šã•ã‚ŒãŸå˜èªãƒ—ãƒ¼ãƒ«ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ
- **æ¡ä»¶**: 
  - é©åˆ‡ãªé›£æ˜“åº¦åˆ†å¸ƒ
  - ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ç·´ç¿’ã«é©ã—ãŸé•·ã•ï¼ˆ3-15æ–‡å­—ï¼‰
  - ã‚ˆãçŸ¥ã‚‰ã‚ŒãŸITç”¨èªå„ªå…ˆ

#### 5.2 åˆ¶ç´„ãƒã‚§ãƒƒã‚¯é«˜é€ŸåŒ–
- **å¯¾è±¡**: åˆ¶ç´„ã‚¿ãƒ¼ãƒ³ã®æ–‡å­—åŒ…å«ãƒã‚§ãƒƒã‚¯
- **æ–¹å¼**: æ—¢å­˜ã®Supabaseã‚¯ã‚¨ãƒªç¶™ç¶šä½¿ç”¨
- **å°†æ¥ã®æœ€é©åŒ–**: æ–‡å­—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹äº‹å‰æ§‹ç¯‰

---

## âœ… ãƒ†ã‚¹ãƒˆé …ç›®

### å˜ä½“ãƒ†ã‚¹ãƒˆ
- [ ] ã‚¿ãƒ¼ãƒ³ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ï¼ˆ83%:17%ã®æ¯”ç‡ç¢ºèªï¼‰
- [ ] å¾—ç‚¹è¨ˆç®—ï¼ˆä¸¡ã‚¿ãƒ¼ãƒ³ã‚¿ã‚¤ãƒ—ï¼‰
- [ ] ã‚¿ã‚¤ãƒ”ãƒ³ã‚°é€Ÿåº¦æ¸¬å®šç²¾åº¦
- [ ] åˆ¶ç´„ãƒã‚§ãƒƒã‚¯æ­£ç¢ºæ€§

### çµ±åˆãƒ†ã‚¹ãƒˆ
- [ ] ã‚¿ãƒ¼ãƒ³åˆ‡ã‚Šæ›¿ãˆãƒ•ãƒ­ãƒ¼
- [ ] ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åŒæœŸ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è²«æ€§
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡

### ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
- [ ] UIåˆ‡ã‚Šæ›¿ãˆã®ã‚¹ãƒ ãƒ¼ã‚ºã•
- [ ] æŒ‡ç¤ºã®æ˜ç¢ºæ€§
- [ ] ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®é©åˆ‡æ€§
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ï¼‰

---

## ğŸš€ å®Ÿè£…å„ªå…ˆåº¦

### ğŸ”¥ Priority 1 (å³åº§ã«å®Ÿè£…)
1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæ‹¡å¼µ
2. ã‚¿ãƒ¼ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆåŸºæœ¬æ©Ÿèƒ½ï¼‰
3. ã‚²ãƒ¼ãƒ ç”»é¢ã®ã‚¿ãƒ¼ãƒ³åˆ¥è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ

### âš¡ Priority 2 (1é€±é–“ä»¥å†…)
4. å¾—ç‚¹è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°
5. ã‚¿ã‚¤ãƒ”ãƒ³ã‚°æ¸¬å®šã‚·ã‚¹ãƒ†ãƒ 
6. APIãƒ»ãƒ‡ãƒ¼ã‚¿åŒæœŸæ‹¡å¼µ

### ğŸ¯ Priority 3 (å®‰å®šåŒ–ãƒ»æœ€é©åŒ–)
7. UIãƒ»UXã®æ´—ç·´
8. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
9. åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Ÿè£…

---

## ğŸ“‹ çµæœé›†è¨ˆãƒ»è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆæ—¢å­˜é …ç›®ï¼‰

### ğŸ¯ è¦ä»¶
- è©¦åˆçµ‚äº†å¾Œã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çµæœã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰é›†è¨ˆã™ã‚‹
- å®Ÿéš›ã®ãƒ—ãƒ¬ã‚¤ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸçµæœã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…
- ç¾åœ¨ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹è¡¨ç¤ºã‚’å®Ÿéš›ã®DBãƒ‡ãƒ¼ã‚¿ã«ç½®ãæ›ãˆã‚‹

### âœ… å‰å›å®Œäº†é …ç›®ï¼ˆãƒ›ã‚¹ãƒˆå°‚ç”¨çµ‚äº†ãƒœã‚¿ãƒ³ï¼‰
- âœ… ãƒ›ã‚¹ãƒˆå°‚ç”¨ã®ã‚²ãƒ¼ãƒ çµ‚äº†ãƒœã‚¿ãƒ³å®Ÿè£…å®Œäº†
- âœ… å¼·åˆ¶çµ‚äº†æ©Ÿèƒ½ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…ä¿¡å®Œäº†
- âœ… å…¨å“¡ã¸ã®çµæœç”»é¢é·ç§»æ©Ÿèƒ½å®Œäº†

### ğŸ“ çµæœé›†è¨ˆé–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«
- `frontend/app/result/page.tsx` - çµæœç”»é¢ãƒ¡ã‚¤ãƒ³ï¼ˆè¦ä¿®æ­£ï¼šãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿â†’å®Ÿãƒ‡ãƒ¼ã‚¿ï¼‰
- `frontend/hooks/useRoom.ts` - ãƒ«ãƒ¼ãƒ ç®¡ç†ãƒ•ãƒƒã‚¯ï¼ˆçµæœå–å¾—APIè¿½åŠ ï¼‰
- `frontend/lib/room.ts` - ãƒ«ãƒ¼ãƒ æ“ä½œAPIï¼ˆçµæœé›†è¨ˆAPIè¿½åŠ ï¼‰
- `frontend/lib/supabase.ts` - Supabaseå‹å®šç¾©ï¼ˆçµæœé›†è¨ˆå‹è¿½åŠ ï¼‰

### åˆ©ç”¨ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«
- `word_submissions` - å˜èªæå‡ºå±¥æ­´ï¼ˆå€‹äººçµ±è¨ˆã®åŸºç¤ãƒ‡ãƒ¼ã‚¿ï¼‰
- `room_players` - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ï¼ˆã‚¹ã‚³ã‚¢ãƒ»ã‚³ãƒ³ãƒœï¼‰  
- `game_sessions` - ã‚²ãƒ¼ãƒ ã‚»ãƒƒã‚·ãƒ§ãƒ³ï¼ˆã‚²ãƒ¼ãƒ æœŸé–“æƒ…å ±ï¼‰
- `rooms` - ãƒ«ãƒ¼ãƒ æƒ…å ±ï¼ˆè¨­å®šãƒ»çŠ¶æ…‹ï¼‰

---

## ğŸ› ï¸ å®Ÿè£…é …ç›®

### 1. çµæœé›†è¨ˆAPIã®å®Ÿè£… ï¿½
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/room.ts`
- **å†…å®¹**: ã‚²ãƒ¼ãƒ çµ‚äº†æ™‚ã®çµæœé›†è¨ˆé–¢æ•°
- **è©³ç´°**: 
  - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã®ç·åˆçµ±è¨ˆå–å¾—ï¼ˆã‚¹ã‚³ã‚¢ã€å˜èªæ•°ã€ã‚³ãƒ³ãƒœã€æ­£è§£ç‡ï¼‰
  - ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¨ˆç®—ï¼ˆé †ä½ä»˜ã‘ï¼‰
  - word_submissions, room_players, game_sessionsã‚’çµåˆã—ãŸã‚¯ã‚¨ãƒª
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»å‹å®‰å…¨æ€§ã®ç¢ºä¿

### 2. çµæœè¡¨ç¤ºç”»é¢ã®ä¿®æ­£ ğŸ¨
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/app/result/page.tsx`
- **å†…å®¹**: ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å®Ÿãƒ‡ãƒ¼ã‚¿ã«ç½®ãæ›ãˆ
- **è©³ç´°**:
  - useEffectå†…ã®ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã‚’å‰Šé™¤
  - ãƒ«ãƒ¼ãƒ IDã‚’å–å¾—ã—ã¦APIã‹ã‚‰å®Ÿéš›ã®çµæœã‚’å–å¾—
  - ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãƒ»ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®è¿½åŠ 
  - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ç¶­æŒ

### 3. å‹å®šç¾©ã®è¿½åŠ ãƒ»æ›´æ–° ğŸ·ï¸
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/supabase.ts` ã¾ãŸã¯æ–°è¦ `frontend/lib/types.ts`
- **å†…å®¹**: çµæœãƒ‡ãƒ¼ã‚¿ã®å‹å®šç¾©
- **è©³ç´°**:
  - PlayerGameResultå‹ï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥çµ±è¨ˆï¼‰
  - GameResultsSummaryå‹ï¼ˆã‚²ãƒ¼ãƒ å…¨ä½“çµæœï¼‰
  - APIå¿œç­”ã®å‹å®šç¾©
  - æ—¢å­˜PlayerResultå‹ã¨ã®çµ±åˆ

### 4. useRoomãƒ•ãƒƒã‚¯ã®æ‹¡å¼µ ğŸ”—
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/hooks/useRoom.ts`
- **å†…å®¹**: çµæœå–å¾—æ©Ÿèƒ½ã®è¿½åŠ 
- **è©³ç´°**:
  - getGameResultsé–¢æ•°ã®è¿½åŠ 
  - çµæœå–å¾—çŠ¶æ…‹ã®ç®¡ç†ï¼ˆloadingã€errorã€dataï¼‰
  - ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ï¼ˆåŒã˜çµæœã®é‡è¤‡å–å¾—é˜²æ­¢ï¼‰
  - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã¸ã®å¯¾å¿œ

### 5. çµ±è¨ˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£… ğŸ“ˆ
- **æ©Ÿèƒ½**: DBã‚¯ã‚¨ãƒªã§ã®çµ±è¨ˆè¨ˆç®—
- **å†…å®¹**: è¤‡é›‘ãªé›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
- **è©³ç´°**:
  - æ­£è§£ç‡ã®è¨ˆç®—ï¼ˆæ­£è§£å˜èªæ•° / ç·æå‡ºæ•°ï¼‰
  - æœ€é«˜ã‚³ãƒ³ãƒœã®å–å¾—ï¼ˆword_submissionsã®æœ€å¤§combo_at_timeï¼‰
  - å¹³å‡å¾—ç‚¹/å˜èªã®è¨ˆç®—
  - ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¨ˆç®—ï¼ˆåŒç‚¹ã®å ´åˆã®é †ä½ãƒ«ãƒ¼ãƒ«ï¼‰

### 6. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– âš¡
- **å¯¾è±¡**: DBé›†è¨ˆã‚¯ã‚¨ãƒªã®æœ€é©åŒ–
- **å†…å®¹**: åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿å–å¾—
- **è©³ç´°**:
  - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç¢ºèªãƒ»è¿½åŠ æ¤œè¨
  - å¿…è¦æœ€å°é™ã®ãƒ‡ãƒ¼ã‚¿å–å¾—
  - ã‚¯ã‚¨ãƒªã®æœ€é©åŒ–ï¼ˆJOINã®åŠ¹ç‡åŒ–ï¼‰
  - é‡è¤‡ãƒ‡ãƒ¼ã‚¿å–å¾—ã®é˜²æ­¢

## ğŸ”§ è©³ç´°è¨­è¨ˆ

### çµæœé›†è¨ˆã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
```
1. ã‚²ãƒ¼ãƒ çµ‚äº† (rooms.status = 'finished')
2. çµæœç”»é¢é·ç§»
3. ãƒ«ãƒ¼ãƒ IDã‹ã‚‰æœ€æ–°ã®game_sessionã‚’å–å¾—
4. å„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®word_submissionsã‚’é›†è¨ˆ
5. room_playersã®æœ€çµ‚ã‚¹ã‚³ã‚¢ãƒ»ã‚³ãƒ³ãƒœã¨çµåˆ
6. ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¨ˆç®—ãƒ»æ­£è§£ç‡è¨ˆç®—
7. çµæœè¡¨ç¤º
```

## ğŸ”§ æ—¢å­˜çµæœé›†è¨ˆæ©Ÿèƒ½ã®å®Ÿè£…é …ç›®

### 5. çµ±è¨ˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£… ğŸ“ˆ
- **æ©Ÿèƒ½**: DBã‚¯ã‚¨ãƒªã§ã®çµ±è¨ˆè¨ˆç®—
- **å†…å®¹**: è¤‡é›‘ãªé›†è¨ˆãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…
- **è©³ç´°**:
  - æ­£è§£ç‡ã®è¨ˆç®—ï¼ˆæ­£è§£å˜èªæ•° / ç·æå‡ºæ•°ï¼‰
  - æœ€é«˜ã‚³ãƒ³ãƒœã®å–å¾—ï¼ˆword_submissionsã®æœ€å¤§combo_at_timeï¼‰
  - å¹³å‡å¾—ç‚¹/å˜èªã®è¨ˆç®—
  - ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¨ˆç®—ï¼ˆåŒç‚¹ã®å ´åˆã®é †ä½ãƒ«ãƒ¼ãƒ«ï¼‰

### æƒ³å®šã™ã‚‹é›†è¨ˆã‚¯ã‚¨ãƒªä¾‹
```sql
-- ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥çµ±è¨ˆã®å–å¾—
SELECT 
  rp.id,
  rp.name,
  rp.score,
  rp.combo as max_combo,
  COUNT(ws.id) as total_submissions,
  COUNT(ws.id) FILTER (WHERE ws.is_valid = true) as correct_submissions,
  CASE 
    WHEN COUNT(ws.id) > 0 
    THEN ROUND(100.0 * COUNT(ws.id) FILTER (WHERE ws.is_valid = true) / COUNT(ws.id), 1)
    ELSE 0 
  END as accuracy
FROM room_players rp
LEFT JOIN word_submissions ws ON ws.player_id = rp.id 
WHERE rp.room_id = $1
GROUP BY rp.id, rp.name, rp.score, rp.combo
ORDER BY rp.score DESC;
```

## ğŸ¯ æˆåŠŸæŒ‡æ¨™
- âœ… ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ãŒå®Ÿéš›ã®DBãƒ‡ãƒ¼ã‚¿ã«ç½®ãæ›ã‚ã‚‹
- âœ… å®Ÿéš›ã®ãƒ—ãƒ¬ã‚¤çµæœãŒæ­£ç¢ºã«è¡¨ç¤ºã•ã‚Œã‚‹
- âœ… ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»çµ±è¨ˆãŒæ­£ã—ãè¨ˆç®—ã•ã‚Œã‚‹
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒé©åˆ‡ã«å‹•ä½œã™ã‚‹
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒè¨±å®¹ç¯„å›²å†…ï¼ˆ<2ç§’ï¼‰

## ğŸ“ çµ±åˆãƒ†ã‚¹ãƒˆé …ç›®
1. **åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ**
   - è¤‡æ•°ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã®çµæœè¡¨ç¤º
   - å€‹äººçµ±è¨ˆã®æ­£ç¢ºæ€§ï¼ˆã‚¹ã‚³ã‚¢ã€å˜èªæ•°ã€ã‚³ãƒ³ãƒœã€æ­£è§£ç‡ï¼‰
   - ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®æ­£ç¢ºæ€§

2. **ã‚¿ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ**
   - é€šå¸¸ã‚¿ãƒ¼ãƒ³ã¨åˆ¶ç´„ã‚¿ãƒ¼ãƒ³ã®åˆ‡ã‚Šæ›¿ãˆ
   - ã‚¿ãƒ¼ãƒ³åˆ¥å¾—ç‚¹è¨ˆç®—ã®æ­£ç¢ºæ€§
   - UIè¡¨ç¤ºã®é©åˆ‡æ€§

3. **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ**
   - æå‡ºãƒ‡ãƒ¼ã‚¿ãªã—ã®å ´åˆ
   - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã®å ´åˆ
   - ä¸æ­£ãªãƒ«ãƒ¼ãƒ IDã®å ´åˆ

4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**
   - å¤§é‡ã®å˜èªæå‡ºãƒ‡ãƒ¼ã‚¿ã§ã®è¡¨ç¤ºé€Ÿåº¦
   - è¤‡æ•°ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã®å‡¦ç†æ™‚é–“

---

## ğŸŒŸ ä»Šå›ã®ãƒ¡ã‚¤ãƒ³ç›®æ¨™

### æœ€çµ‚ç›®æ¨™
ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚¿ãƒ¼ãƒ³ã‚·ã‚¹ãƒ†ãƒ ï¼ˆé€šå¸¸ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¿ãƒ¼ãƒ³ + åˆ¶ç´„ã‚¿ãƒ¼ãƒ³ï¼‰ã‚’å®Ÿè£…ã—ã€5:1ã®æ¯”ç‡ã§ãƒ©ãƒ³ãƒ€ãƒ å‡ºé¡Œã™ã‚‹å®Œå…¨ã«æ©Ÿèƒ½ã™ã‚‹ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰ã€‚

### æœŸå¾…ã•ã‚Œã‚‹æˆæœ
1. **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š**: 2ç¨®é¡ã®ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã‚‹é£½ãã«ãã„ã‚²ãƒ¼ãƒ ä½“é¨“
2. **ã‚¹ã‚­ãƒ«å¤šæ§˜åŒ–**: ã‚¿ã‚¤ãƒ”ãƒ³ã‚°é€Ÿåº¦ã¨çŸ¥è­˜ãƒ»æ€è€ƒåŠ›ã®ä¸¡æ–¹ã‚’è©•ä¾¡
3. **ã‚·ã‚¹ãƒ†ãƒ æ‹¡å¼µæ€§**: å°†æ¥çš„ãªæ–°ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰è¿½åŠ ã®åŸºç›¤æ§‹ç¯‰
4. **ãƒ‡ãƒ¼ã‚¿åˆ†æå¼·åŒ–**: ã‚¿ãƒ¼ãƒ³åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†ææ©Ÿèƒ½

---

## ğŸ“ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### ã™ãã«å®Ÿè¡Œå¯èƒ½
1. **ã€Œå®Ÿè£…ã€** - Phase 1ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ‹¡å¼µã‹ã‚‰é–‹å§‹
2. **ã€Œèª¿æŸ»ã€** - æ—¢å­˜ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã®è©³ç´°åˆ†æãƒ»ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆè©•ä¾¡  
3. **ã€Œãƒ‡ãƒãƒƒã‚°ã€** - ç¾åœ¨ã®åˆ¶ç´„ã‚¿ãƒ¼ãƒ³å‹•ä½œã®æ¤œè¨¼ãƒ»ä¿®æ­£

ã©ã®æ–¹å‘ã§é€²ã‚ã¾ã—ã‚‡ã†ã‹ï¼Ÿ ğŸš€âœ¨
interface CompressedDictionary {
  metadata: {
    version: string;
    wordCount: number;
    lastUpdated: string;
    compression: 'gzip';
  };
  letterIndex: {
    [letter: string]: number[]; // è©²å½“æ–‡å­—ã‚’å«ã‚€å˜èªã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹é…åˆ—
  };
  words: {
    id: number;
    text: string;
    romaji: string;
    difficulty: number;
    description: string;
    aliases: string[];
  }[];
}
```

#### 2.2 æ–‡å­—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
```typescript
function buildLetterIndex(words: ITTerm[]): Record<string, number[]> {
  const index: Record<string, number[]> = {};
  
  // a-zåˆæœŸåŒ–
  for (let i = 0; i < 26; i++) {
    const letter = String.fromCharCode(97 + i); // 'a' to 'z'
    index[letter] = [];
  }
  
  // å„å˜èªã®å«æœ‰æ–‡å­—ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–
  words.forEach((word, wordIndex) => {
    const uniqueLetters = new Set(word.text.toLowerCase().match(/[a-z]/g) || []);
    uniqueLetters.forEach(letter => {
      index[letter].push(wordIndex);
    });
  });
  
  return index;
}
```

### Step 3: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ­ãƒ¼ãƒ€ãƒ¼å®Ÿè£…

#### 3.1 è¾æ›¸ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ€ãƒ¼
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/dictionary-loader.ts`
- **æ©Ÿèƒ½**:
  - Supabase Storageã‹ã‚‰åœ§ç¸®è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«å–å¾—
  - gzipå±•é–‹
  - ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ï¼‰

#### 3.2 æ–‡å­—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç®¡ç†
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/lib/word-index.ts`
- **æ©Ÿèƒ½**:
  - æŒ‡å®šæ–‡å­—ã‚’å«ã‚€å˜èªã®é«˜é€Ÿæ¤œç´¢ï¼ˆO(1)ï¼‰
  - è¾æ›¸ãƒ‡ãƒ¼ã‚¿ã¨ã®é€£æº
  - åˆ¶ç´„ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½

### Step 4: ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯çµ±åˆ

#### 4.1 æ—¢å­˜ã‚³ãƒ¼ãƒ‰ä¿®æ­£
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/app/game/page.tsx`
- **å¤‰æ›´å†…å®¹**:
  - ç¾åœ¨ã®Supabaseç›´æ¥ã‚¯ã‚¨ãƒªã‚’è¾æ›¸ãƒ­ãƒ¼ãƒ€ãƒ¼ä½¿ç”¨ã«å¤‰æ›´
  - é«˜é€Ÿãªåˆ¶ç´„ãƒã‚§ãƒƒã‚¯å®Ÿè£…
  - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®æœ€é©åŒ–

#### 4.2 ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
- è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å¤±æ•—æ™‚ã¯æ—¢å­˜ã®Supabaseã‚¯ã‚¨ãƒªã«è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã®å¯è¦–åŒ–

## ğŸ—‚ï¸ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆå®Ÿè£…å¾Œï¼‰

```
scripts/
â”œâ”€â”€ build-dictionary.js      # è¾æ›¸ç”Ÿæˆ
â”œâ”€â”€ upload-to-storage.js     # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â””â”€â”€ package.json            # ä¾å­˜é–¢ä¿‚

frontend/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ dictionary-loader.ts # è¾æ›¸ãƒ­ãƒ¼ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ word-index.ts       # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç®¡ç†
â”‚   â””â”€â”€ ...existing files...
â””â”€â”€ ...existing structure...

dist/                        # ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ dictionary-v1.0.0.json.gz
â”œâ”€â”€ dictionary-latest.json.gz
â””â”€â”€ build-log.txt

supabase-storage://
â””â”€â”€ dictionaries/
    â”œâ”€â”€ v1.0.0-dictionary.json.gz
    â””â”€â”€ latest/
        â””â”€â”€ dictionary.json.gz
```

### å‹•ä½œç¢ºèª
- [ ] ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã®è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ç”ŸæˆæˆåŠŸ
- [ ] gzipåœ§ç¸®ãƒ»å±•é–‹ã®æ­£å¸¸å‹•ä½œ
- [ ] Supabase Storageã¸ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æˆåŠŸ
- [ ] ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã®åœ§ç¸®ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æˆåŠŸ
- [ ] æ–‡å­—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ã‚ˆã‚‹é«˜é€Ÿæ¤œç´¢å‹•ä½œ

## ğŸ“ é–‹ç™ºè€…å‘ã‘ä½¿ç”¨æ–¹æ³•

### è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ‰‹é †
```bash
# 1. Supabaseã®seed.sqlã‚’æ›´æ–°
# 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æœ€æ–°ãƒ‡ãƒ¼ã‚¿æŠ•å…¥
npm run supabase:reset

# 3. è¾æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
npm run dict:update

# 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å‹•ä½œç¢ºèª
npm run dev
```

### ãƒ‡ãƒãƒƒã‚°ãƒ»ç¢ºèªã‚³ãƒãƒ³ãƒ‰
```bash
# ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºç¢ºèª
ls -la dist/

# åœ§ç¸®ç‡ç¢ºèª
npm run build:dictionary -- --verbose

# Supabase Storageç¢ºèª
npm run supabase:storage list dictionaries
```

---

## ğŸ¯ ä»Šå›ã®ä½œæ¥­ç¯„å›²

**Step 1.1ã®ã¿é›†ä¸­å®Ÿè£…**: `scripts/build-dictionary.js`ã®ä½œæˆã¨å‹•ä½œç¢ºèª
- æœ€å°é™ã®æ©Ÿèƒ½ã§å‹•ä½œã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½œæˆ
- 29èªãƒ‡ãƒ¼ã‚¿ã§ã®æ¤œè¨¼å®Œäº†
- ä»–ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯å‹•ä½œç¢ºèªå¾Œã«é †æ¬¡è¿½åŠ 

ã“ã®è¨ˆç”»ã§é€²ã‚ã‚‹ã“ã¨ã§ã€ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–ã—ãªãŒã‚‰æ®µéšçš„ã«æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã§ãã¾ã™ï¼
